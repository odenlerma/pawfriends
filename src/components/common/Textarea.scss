// ==============================================
// PawFriends - Textarea Styles
// ==============================================

@use '../../styles/variables' as *;
@use '../../styles/mixins' as *;

.textarea-wrapper {
  display: flex;
  flex-direction: column;
  gap: $spacing-2;

  &--full-width {
    width: 100%;
  }

  // Header (label + count)
  &__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  // Label
  &__label {
    @include font-body;
    font-size: $font-size-sm;
    font-weight: $font-weight-semibold;
    color: $color-gray-dark;
  }

  // Character count
  &__count {
    @include text-xs;
    color: $color-gray;
    font-variant-numeric: tabular-nums;

    &--over {
      color: $color-error;
      font-weight: $font-weight-semibold;
    }
  }

  // The textarea itself
  &__textarea {
    @include input-base;
    resize: vertical;
    min-height: 100px;
    line-height: $line-height-relaxed;

    // Nice resize handle
    &::-webkit-resizer {
      background: linear-gradient(
        135deg,
        transparent 50%,
        $color-gray-light 50%,
        $color-gray-light 60%,
        transparent 60%,
        transparent 75%,
        $color-gray-light 75%,
        $color-gray-light 85%,
        transparent 85%
      );
      border-radius: 0 0 $radius-lg 0;
    }
  }

  // Error state
  &--error {
    .textarea-wrapper__textarea {
      border-color: $color-error;

      &:focus {
        box-shadow: 0 0 0 4px rgba($color-error, 0.1);
      }
    }
  }

  // Error message
  &__error {
    @include text-sm;
    color: $color-error;
    display: flex;
    align-items: center;
    gap: $spacing-1;

    &::before {
      content: '!';
      display: flex;
      align-items: center;
      justify-content: center;
      width: 1rem;
      height: 1rem;
      font-size: $font-size-xs;
      font-weight: $font-weight-bold;
      background: $color-error;
      color: $color-white;
      border-radius: 50%;
    }
  }

  // Hint text
  &__hint {
    @include text-sm;
    color: $color-gray;
  }
}
